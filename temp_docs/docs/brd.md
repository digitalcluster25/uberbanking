
### Cтруктура воронки
1. **Привлечение (Acquisition):** Пользователь ищет в Google, например, "банк для e-commerce в Германии" или "отзывы о банке Everyfin UK".
2. **Посадка (Landing):** Он попадает на одну из двух типов страниц на вашем сайте:
    - **Страница-листинг:** Оптимизированная подборка банков по конкретным критериям (например, `.../banks/germany/ecommerce`).
    - **Детальная страница Банка:** Полное описание, характеристики, тарифы и отзывы о конкретном банке (`.../banks/everyfin-uk`).
3. **Вовлечение (Engagement):** Пользователь изучает информацию, сравнивает варианты, читает отзывы.
4. **Конверсия (Conversion):** На каждой такой странице есть четкий призыв к действию (Call to Action), например: **"Получить персональное предложение"** или **"Проверить соответствие вашей компании"**. Этот призыв ведет пользователя на страницу регистрации (`Auth.png`), запуская сценарий, который мы уже описали в **Модуле 1**.

---

### **Модуль 0: Публичный портал и SEO-воронка**

**(Этот модуль описывает функционал, доступный анонимным пользователям из интернета)**
#### **User Story 0.1: Публичный каталог банков (Страницы-листинги)**
- **Описание:** Как анонимный пользователь, я хочу видеть публичный каталог банков с возможностью фильтрации и сортировки, чтобы я мог найти банки, соответствующие моим базовым критериям, без необходимости регистрации.
    
- **Критерии приемки:**
    1. Существует публично доступная страница `/banks`, на которой отображается список всех банков-партнеров в виде карточек (`Banks Sugestions.png`).
        
    2. На странице есть набор фильтров (например, по стране, индустрии, типу лицензии, услугам).
        
    3. Каждая уникальная комбинация фильтров должна генерировать статическую, SEO-дружелюбную URL (например, `/banks/country/switzerland/services/crypto-exchange`). Эти страницы должны индексироваться поисковыми системами.
        
    4. Карточка каждого банка в списке содержит основную информацию: название, страна, рейтинг, ключевые услуги, и кнопку "Подробнее", ведущую на детальную страницу банка.
        
    5. На странице присутствует заметный призыв к действию (CTA), ведущий на страницу регистрации.
        

#### **User Story 0.2: Детальная страница Банка**

- **Описание:** Как анонимный пользователь, я хочу иметь возможность открыть страницу конкретного банка, чтобы изучить всю подробную информацию о нем, включая описание, тарифы, условия и отзывы других пользователей.
    
- **Критерии приемки:**
    
    1. Каждый банк в каталоге имеет свою собственную публичную страницу с уникальным URL (например, `/banks/the-bank-of-new-york`).
        
    2. Страница содержит следующие блоки:
        
        - **Шапка:** Название, логотип, страна, общий рейтинг (звезды).
            
        - **Описание:** Подробная информация о банке.
            
        - **Ключевые условия:** Таблица с тарифами (стоимость открытия, входящие/исходящие платежи), средние сроки открытия счета, основные услуги.
            
        - **Требования к клиенту:** Для каких индустрий и стран подходит банк.
            
        - **Отзывы и комментарии:** Блок, где пользователи (вероятно, после регистрации) могут оставлять свои отзывы.
            
    3. Страница должна быть оптимизирована для поисковых систем, включая использование микроразметки (Schema.org) для типа "Bank", "Rating", "Review".
        
    4. На странице есть основной CTA ("Получить персональное предложение") и, возможно, второстепенные (например, "Задать вопрос").

### **Модуль 2: Онбординг и управление профилем Партнера (Банка)**

Этот модуль описывает, как банки попадают на платформу и настраивают свои профили, чтобы начать получать клиентов.

#### **User Story 2.1: Подача заявки на партнерство**

- **Описание:** Как представитель банка, я хочу найти на сайте страницу для партнеров и подать заявку на регистрацию, чтобы моя заявка попала на рассмотрение к администратору платформы.
    
- **Критерии приемки:**
    
    1. Существует публичная страница для партнеров (например, `/partners`), на которую можно попасть с главного сайта. На ней изложено ценностное предложение для банков (`Partner Landing Page.png`).
        
    2. На странице есть кнопка, ведущая на форму подачи заявки (`Partner registration.png`).
        
    3. Форма собирает базовые данные: Имя, Фамилия, Email, Телефон, Название компании (банка), Должность.
        
    4. После отправки формы заявка появляется в панели Администратора со статусом "Новая" (`Partners leads.png`).
        
    5. Представитель банка получает на почту автоматическое письмо о том, что его заявка принята на рассмотрение.
        

#### **User Story 2.2: Создание и управление профилем Банка**

- **Описание:** Как менеджер верифицированного банка-партнера, я хочу иметь возможность войти в свой личный кабинет и детально заполнить/отредактировать профиль своего банка, указав все тарифы, услуги и требования к клиентам, чтобы система начала подбирать для нас релевантные заявки.
    
- **Критерии приемки:**
    
    1. После того как Администратор одобряет заявку, менеджер банка получает email-приглашение для создания пароля и входа в систему.
        
    2. В личном кабинете партнера есть раздел для управления профилем банка (согласно макету `Company.png`).
        
    3. Профиль должен позволять детально настроить следующие параметры, которые будут использоваться для матчинга и в публичном каталоге:
        
        - **Общая информация:** Название, описание, логотип.
            
        - **Финансовые условия:** Тип счета (SWIFT/NOTSWIFT), стоимость открытия (`Open Fee`), комиссия за исходящие (`Outgoing Fee`) и входящие (`Incoming Fee`) платежи.
            
        - **Критерии и услуги:** Целевые страны (`Country`), тип лицензии (`Type of License`), основные (`services`) и дополнительные (`Addition services`) услуги (например, Crypto, Merchant accounts и т.д.).
            
    4. Менеджер может сохранять изменения в профиле. Эта информация автоматически обновляется в публичном каталоге и используется алгоритмом подбора.

Вся воронка от первого контакта до открытия счета выглядит так:

### **Уровень 1: Публичный подбор (до регистрации)**

Это то, что мы описали в **Модуле 0**. Анонимный пользователь заходит на сайт-каталог. С помощью фильтров по **неперсонализированным, публичным данным** (страна, тип лицензии, базовые услуги) он самостоятельно отсеивает банки, которые ему точно не подходят.

- **Цель этого этапа:** Привлечь пользователя и мотивировать его на регистрацию, чтобы получить уже _персональный_ подбор.
    

---

### **Уровень 2: Автоматический скоринг (после заполнения анкеты)**

Это **Модуль 3**, который мы обсуждали. Пользователь зарегистрировался и заполнил подробную анкету о своей компании.

- **Цель этого этапа:** Система, на основе **детальных, но еще не подтвержденных документами данных**, проводит автоматический скоринг и формирует список наиболее подходящих банков (`Proposals - YOUR OFFER.png`). Заявка отправляется этим банкам в виде "Лида".
    

---

### **Уровень 3: Глубокая проверка и Due Diligence (после одобрения лида Банком)**

Это новый, финальный этап, который происходит после того, как менеджер банка нажал `Approve` в своем кабинете. Здесь начинается прямое взаимодействие.

- **Цель этого этапа:** Дать Банку возможность провести полную проверку (due diligence), запросив **все необходимые подтверждающие документы** и уточнив детали напрямую у клиента.
    

Для реализации этого третьего уровня нам нужен следующий функциональный модуль.

---

### **Модуль 4: Коммуникация и обмен документами**

Этот модуль активируется _после_ того, как Банк одобрил лид (User Story 3.3).

#### **User Story 4.1: Безопасный чат между Клиентом и Банком**

- **Описание:** Как Клиент (или Менеджер Банка), после одобрения моей заявки Банком, я хочу иметь доступ к прямому, защищенному чату на платформе, чтобы обсуждать детали, задавать вопросы и получать консультации.
    
- **Критерии приемки:**
    
    1. Функция чата между конкретным Клиентом и конкретным Банком становится активной только после того, как Банк перевел лид в статус "Approved".
        
    2. Чат поддерживает обмен текстовыми сообщениями и файлами в реальном времени.
        
    3. Вся история переписки сохраняется и доступна обеим сторонам.
        
    4. Система отправляет уведомления (на платформе и по email) о новых сообщениях.
        

#### **User Story 4.2: Доступ к документам и запрос дополнительных файлов**

- **Описание:** Как Менеджер Банка, в рамках работы с одобренной заявкой, я хочу видеть все документы, которые Клиент уже загрузил, и иметь возможность запросить у него дополнительные, недостающие файлы через платформу.
    
- **Критерии приемки:**
    
    1. В профиле одобренного клиента у Менеджера Банка появляется вкладка "Документы".
        
    2. На этой вкладке он видит список уже загруженных файлов, может их скачивать и просматривать.
        
    3. Есть функция "Запросить документ", где менеджер может написать название требуемого документа (например, "Utility Bill for UBO").
        
    4. После отправки запроса Клиент получает уведомление. В его разделе документов появляется новая строка с названием запрошенного файла и статусом "Ожидает загрузки".

### **Модуль 5: Панель Администратора**

Этот модуль описывает функционал для администратора платформы, который необходим для управления пользователями, партнерами и контентом.

#### **User Story 5.1: Управление Клиентами**

- **Описание:** Как Администратор, я хочу иметь доступ к списку всех зарегистрированных клиентов, просматривать и (при необходимости) редактировать их профили и управлять их статусами.
    
- **Критерии приемки:**
    
    1. В админ-панели есть раздел "Clients" с таблицей всех пользователей-клиентов (`Users clients.png`).
        
    2. Реализован поиск и фильтрация по ключевым полям (имя, компания, страна и т.д.).
        
    3. Администратор может открыть полный профиль любого клиента, включая все данные анкеты и загруженные им документы (`Profile Clients.png`).
        
    4. Администратор имеет возможность деактивировать/заблокировать учетную запись клиента.
        

#### **User Story 5.2: Управление Банками-Партнерами**

- **Описание:** Как Администратор, я хочу управлять жизненным циклом банков-партнеров: от рассмотрения новых заявок до редактирования профилей существующих партнеров.
    
- **Критерии приемки:**
    
    1. Есть раздел "Partners leads" (`Users bank's manadger5.png`) для модерации новых заявок от банков. Администратор может одобрить (`Approve`) или отклонить (`Reject`) заявку.
        
    2. Есть раздел "Partner companies" (`Users Partners bank.png`) — это база данных всех активных банков на платформе.
        
    3. Администратор может вручную добавлять и редактировать профили банков, включая их тарифы, услуги и критерии подбора (помощь в настройке или коррекция).
        
    4. Администратор может деактивировать партнера, временно скрывая его из публичного каталога и из системы подбора.
        

#### **User Story 5.3: Управление Пользователями Банков**

- **Описание:** Как Администратор, я хочу управлять учетными записями менеджеров, которые представляют банки-партнеры на платформе.
    
- **Критерии приемки:**
    
    1. Есть раздел "Bank's Users" (`Users bank's manadger.png`) для просмотра всех пользователей от банков.
        
    2. Администратор может создавать новые учетные записи для менеджеров и привязывать их к конкретному банку-партнеру (`Manager Registration.png`).
        
    3. Администратор может редактировать данные и деактивировать аккаунты менеджеров (например, в случае их увольнения из банка).
        

#### **User Story 5.4: Управление контентом публичного портала**

- **Описание:** Как Администратор, я хочу иметь возможность редактировать информацию на публичных страницах банков, чтобы обогащать контент и улучшать SEO.
    
- **Критерии приемки:**
    
    1. При редактировании профиля банка (5.2) должна быть возможность добавлять/изменять SEO-атрибуты (title, description) и писать развернутые описания/обзоры, которые будут отображаться на детальной странице банка в **Модуле 0**.

### **Модуль 6: Монетизация (Уточненная версия)**

#### **User Story 6.1 (Revised): Платный доступ к расширенным результатам поиска**

- **Описание:** Как Клиент, я хочу иметь возможность бесплатно искать банки по основным критериям. Однако, если мой поиск касается специфических или высококонкурентных категорий (например, крипто-банки), я хочу иметь возможность купить подписку, чтобы увидеть полный список найденных банков, а не только несколько бесплатных вариантов.
    
- **Критерии приемки:**
    
    1. **Логика ограничений:** Администратор в своей панели управления может помечать определенные категории банков (например, "Crypto Exchange", "High-risk Merchant Account") как "премиальные".
        
    2. Когда незарегистрированный или бесплатный пользователь выполняет поиск по таким категориям, система показывает ему только ограниченное количество результатов (например, "Найдено 15 банков. Бесплатно показаны первые 3").
        
    3. Рядом со скрытыми результатами отображается призыв к действию: "Разблокировать все X банков" или "Купить подписку для полного доступа".
        
    4. Покупка подписки (через интеграцию с платежной системой, как обсуждалось ранее) снимает это ограничение, и пользователь видит все банки, соответствующие его запросу.
        
    5. На странице "Тарифы" (или "Pricing") должно быть четко объяснено, какие именно категории поиска и в каком объеме доступны на бесплатном и платном тарифах.

### **Раздел 7: Нефункциональные требования**

#### 1. Безопасность (Security) 🛡️

- **Шифрование данных:** Все данные, передаваемые между клиентом и сервером, должны шифроваться с использованием протокола **HTTPS (SSL/TLS)**. Конфиденциальные данные в базе данных (например, API-ключи, пароли) должны храниться в зашифрованном или хешированном виде.
    
- **Защита от уязвимостей:** Приложение должно быть защищено от основных веб-уязвимостей, согласно списку **OWASP Top 10** (включая SQL-инъекции, XSS, CSRF).
    
- **Управление доступом:** Доступ к данным должен быть строго разграничен на основе ролей (**RBAC - Role-Based Access Control**). Клиент не может видеть данные другого клиента, а менеджер банка — лиды, предназначенные для другого банка.
    
- **Безопасность документов:** Все загружаемые пользователями документы должны храниться в **приватном, защищенном хранилище** (например, AWS S3 с ограниченным доступом), а не в публичной папке.
    
- **Соответствие регуляциям:** Так как проект международный, необходимо учитывать требования по защите персональных данных, в первую очередь **GDPR**.
    

---

#### 2. Производительность (Performance) 🚀

- **Скорость загрузки:** Ключевые страницы сайта (главная, каталог, страница банка) должны загружаться не более чем за **3 секунды** на среднем интернет-соединении.
    
- **Время ответа сервера:** API-сервер должен отвечать на запросы в среднем не дольше **500 миллисекунд**.
    
- **Оптимизация:** Необходимо использовать современные практики оптимизации: кеширование, сжатие изображений, минимизация кода (CSS/JS).
    

---

#### 3. Надежность и Доступность (Reliability & Availability) uptime

- **Доступность:** Система должна быть доступна для пользователей **99.9%** времени.
    
- **Резервное копирование:** Должно быть настроено **ежедневное автоматическое резервное копирование** базы данных и хранилища файлов.
    
- **Мониторинг:** Необходимо внедрить систему мониторинга, которая будет оповещать администраторов о сбоях и ошибках в работе приложения в режиме реального времени.
    

---

#### 4. Масштабируемость (Scalability) 📈

- **Архитектура:** Архитектура приложения должна быть готова к росту нагрузки (увеличению числа пользователей, банков и заявок в 10 раз в течение 2 лет) без необходимости полного перепроектирования.
    
- **Инфраструктура:** Рекомендуется использовать облачные провайдеры (AWS, Google Cloud, Azure), которые позволяют гибко масштабировать ресурсы (серверы, базы данных) по мере роста.
    

---

#### 5. Технологический стек (Technology Stack) 💻

Это рекомендация, которую стоит обсудить с командой разработки. Предлагается современный и надежный стек:

- **Фронтенд (Клиентская часть):** **React.js** — современные фреймворки для создания интерактивных интерфейсов.
    
- **Бэкенд (Серверная часть):** **Python** (фреймворк Django/FastAPI) — отлично подходят для создания API.
    
- **База данных:** **PostgreSQL** — надежная реляционная база данных для структурированной информации.
    
- **Инфраструктура:** **Docker** для контейнеризации и развертывание на одном из облачных провайдеров.


### Приложение А: Детализация функциональных модулей

#### **А.1 Детализация Модуля 1.2: Создание и заполнение профиля Компании**

Этот раздел детализирует требования к экрану "My Companies" (на основе макета `Company-Brief.png`).

**1. Общая логика страницы:**

- Страница предназначена для сбора исчерпывающей информации о компании клиента для последующего скоринга и подбора банков.
    
- Все поля, помеченные как "Обязательное", должны быть заполнены для активации кнопки "Watch matches".
    
- Пользователь может сохранить анкету как черновик в любой момент.
    
- При возникновении ошибок валидации поля должны подсвечиваться красным, а под ними должно отображаться сообщение об ошибке.
    

**2. Спецификация полей и элементов:**

|Элемент / Метка|Тип элемента|Правила валидации|Комментарий / Логика|
|---|---|---|---|
|**Блок: Bank's Compliance**||||
|UBO Resedential|Выпадающий список|Обязательное|Список стран мира. Должен быть поиск по списку.|
|Country of incorporation|Выпадающий список|Обязательное|Список стран мира. Должен быть поиск по списку.|
|Industry|Выпадающий список|Обязательное|Список индустрий, управляемый Администратором.|
|**Блок: Company Information**||||
|Company Name|Текстовое поле|Обязательное, макс. 255 символов||
|Company Adress|Текстовое поле|Обязательное, макс. 512 символов||
|**Блок: Business Information**||||
|Director Residence|Выпадающий список|Обязательное|Список стран мира.|
|Adress Approval|Текстовое поле|Обязательное||
|Monthly Turnover|Числовое поле|Обязательное, только цифры||
|Geo of Clients|Текстовое поле|Обязательное|Можно реализовать как поле с тегами для ввода нескольких стран.|
|Phone Number|Поле для ввода телефона|Обязательное, международный формат|Автоматическая маска для ввода (+XXX XX XXX-XX-XX).|
|**Блок: Documents**||||
|Select files or drag them here|Загрузчик файлов|Макс. размер 10 MB на файл. Типы: PDF, JPG, PNG, DOCX.|Поддержка загрузки нескольких файлов одновременно. Отображение прогресса загрузки.|
|myarchive.zip|Элемент списка|-|Отображает имя загруженного файла и иконку для его удаления.|
|**Кнопки**||||
|Request call|Кнопка|-|При нажатии открывает модальное окно с формой обратной связи.|
|Watch matches|Кнопка|Неактивна, пока не заполнены все обязательные поля.|При нажатии запускает процесс скоринга (Модуль 3).|

#### **А.2 Детализация Модуля 3.1: Алгоритм подбора (Matching)**

Этот раздел описывает логику работы алгоритма подбора.

**1. Принцип работы:** Скоринг на основе баллов.

**2. Таблица весов для критериев (Пример):**

|Критерий|Вес (баллы)|Логика совпадения|
|---|---|---|
|**Country of incorporation**|20|Полное совпадение со списком принимаемых стран Банка.|
|**Industry**|15|Совпадение со списком принимаемых индустрий. Если индустрия "High-risk", а банк не работает с ней, -200 баллов (блокирующее правило).|
|**UBO Resedential**|10|Совпадение со списком принимаемых стран для UBO.|
|**Monthly Turnover**|10|Оборот клиента попадает в вилку min/max, указанную Банком.|
|**Запрашиваемые услуги (Crypto)**|5|Клиент запраширует услугу, и Банк ее предоставляет.|

**3. Логика принятия решения:**

- **Порог прохождения:** 40 баллов.
    
- **Результат:** Все банки, набравшие 40 и более баллов, попадают в список предложений для клиента. Список сортируется по убыванию баллов.
    

#### **А.3 Детализация Модуля 2.2: Создание и управление профилем Банка**

Этот раздел детализирует требования к экрану "Company" в личном кабинете Партнера (Банка) (на основе макета `Company.png`).

**1. Общая логика страницы:**

- Эта страница является основным инструментом Банка для настройки своих критериев и предложений.
    
- Все данные, введенные на этой странице, напрямую влияют на работу алгоритма подбора и на отображение информации в публичном каталоге.
    
- Администратор должен иметь возможность редактировать эти же поля из своей панели.
    

**2. Спецификация полей и элементов:**

|Элемент / Метка|Тип элемента|Правила валидации|Комментарий / Влияние на систему|
|---|---|---|---|
|**Блок: Bank's Info**||||
|Name|Текстовое поле|Обязательное, макс. 255 символов|Отображается в публичном каталоге.|
|Description|Многострочное текстовое поле|Макс. 2000 символов|Отображается на детальной странице банка.|
|Company logo|Загрузчик файлов|Макс. 5 MB. Типы: JPG, PNG, SVG|Отображается в каталоге и на детальной странице.|
|**Блок: Критерии подбора (Matching criteria)**|||**Ключевые поля для алгоритма подбора.**|
|Type of account|Выбор тегов|Обязательное, мин. 1|Варианты: SWIFT, NOTSWIFT. Используется для фильтрации.|
|Country|Выбор тегов (мультиселект)|Обязательное, мин. 1|Список стран, с резидентами которых банк **готов работать**.|
|Type of License|Выбор тегов|Обязательное|Список лицензий (EMI, Banking License и т.д.), управляемый Администратором.|
|Services|Выбор тегов (мультиселект)|Обязательное|Список услуг (Crypto, Exchange и т.д.), с которыми работает банк.|
|**Блок: Финансовые условия (Fees)**||||
|Open Fee|Диапазон чисел|Обязательное, только цифры|Например, от 500 до 1000 €. Используется для отображения в каталоге.|
|Outgoing Fee|Текстовое поле|Обязательное. Формат "X% min Y €".|Например, "0,1% min 1000$". Используется для отображения.|
|Incoming Fee|Текстовое поле|Обязательное. Формат "X%".|Например, "0,1%". Используется для отображения.|
|**Блок: Pricing (Тарифы/Подписки)**|||Динамический блок для добавления доп. планов.|
|Name of pricing|Текстовое поле|Обязательное|Например, "1 Year Business Savings Bond".|
|Amount of pricing|Текстовое поле|Обязательное||
|Add pricing|Кнопка|-|Добавляет новую пару полей "Name" и "Amount".|
|**Кнопки**||||
|Save|Кнопка|-|Сохраняет все изменения профиля Банка.|

#### **А.4 Детализация Модуля 3: Отображение предложений для Клиента**

Этот раздел детализирует требования к экрану "Individually Selected Proposals" в личном кабинете Клиента (на основе макета `Proposals - YOUR OFFER.png`).

**1. Общая логика страницы:**

- На этой странице отображаются результаты работы алгоритма подбора (скоринга).
    
- Список банков отсортирован по релевантности (убыванию набранных баллов).
    
- Реализована логика платного доступа: часть предложений может быть скрыта для пользователей на бесплатном тарифе.
    

**2. Спецификация таблицы предложений:**

|Название колонки|Источник данных|Логика отображения|
|---|---|---|
|**Name**|Профиль Банка|Название банка. Является ссылкой на публичную детальную страницу банка.|
|**Country**|Профиль Банка|Страна регистрации банка.|
|**Type of account**|Профиль Банка|Типы счетов, которые предлагает банк (SWIFT, NOTSWIFT).|
|**Open Fee (€)**|Профиль Банка|Диапазон стоимости открытия счета.|
|**Incoming Fee (%)**|Профиль Банка|Комиссия за входящие платежи.|
|**Outgoing Fee**|Профиль Банка|Комиссия за исходящие платежи.|
|**Avarage Onboarding time**|Профиль Банка|Среднее время открытия счета (например, "3 work days"). Это поле нужно добавить в профиль Банка (А.3).|
|**Request**|-|Кнопка "Apply".|

**3. Логика интерактивных элементов:**

- **Кнопка "Check your Bank":** * Открывает модальное окно, где пользователь может ввести название своего текущего банка.
    
    - **Цель:** Сбор данных для аналитики и, возможно, для будущей функции сравнения условий.
        
    - **Действие:** После ввода и сохранения названия окно закрывается.
        
- **Кнопка "Details":** * Открывает модальное окно с более подробным описанием предложения от банка (можно использовать поле "Description" из профиля банка).
    
- **Кнопка "Apply":** * **Действие:** При нажатии система создает "Лид" для выбранного банка, отправляя ему анкету и документы клиента.
    
    - **Изменение интерфейса:** После нажатия кнопка становится неактивной (disabled) и меняет текст на "Applied". Строка может подсвечиваться, чтобы показать, что заявка отправлена.
        
    - Пользователь перенаправляется в раздел "Accounts", где может отслеживать статус своей заявки.
        
- **Логика подписки (Free/Paid):**
    
    - Таблица может быть разделена на две: "Banks" (основные) и "Merchant accouts" (специализированные), как на макете.
        
    - На бесплатном тарифе (`USE FREE`) отображаются все предложения в первой таблице, но во второй (или для премиальных категорий) строки размыты (blur), а кнопки "Apply" неактивны.
        
    - Рядом с заблокированным контентом находится баннер/ссылка `To unlock all services buy subscription`, ведущая на страницу оплаты.
        

#### **А.5 Детализация Модуля 3: Управление лидами на стороне Банка**

Этот раздел детализирует требования к экранам в личном кабинете Партнера (Банка) для управления заявками клиентов (лидами) (на основе макетов `Partner Profile.png`, `Clients.png`, `Clients details.png`).

**1. Общая логика и жизненный цикл лида:**

- Лид создается в системе, когда Клиент нажимает "Apply" на предложение Банка.
    
- Начальный статус лида: **"New"** (Новый).
    
- Менеджер Банка может изменить статус на **"Approved"** (Одобрен) или **"Declined"** (Отклонен).
    
- Опционально может быть статус **"On hold"** (На удержании) для заявок, требующих дополнительной информации перед принятием решения.
    

**2. Экран "Client Management Dashboard" (Главная панель):**

- **Назначение:** Предоставить менеджеру быструю сводку о текущем состоянии воронки.
    
- **Элементы:**
    
    - **Leads:** Счетчик, показывающий общее количество лидов в статусе **"New"**.
        
    - **Approved:** Счетчик, показывающий общее количество лидов в статусе **"Approved"**.
        
    - **Declined:** Счетчик, показывающий общее количество лидов в статусе **"Declined"**.
        
    - **On hold:** Счетчик, показывающий общее количество лидов в статусе **"On hold"**.
        
- **Интерактивность:** Каждый счетчик является ссылкой, ведущей на отфильтрованный список клиентов в соответствующем статусе.
    

**3. Экран "Clients" (Список лидов):**

- **Назначение:** Отобразить список всех лидов, полученных банком.
    
- **Спецификация таблицы:**
    

|Название колонки|Источник данных|Логика отображения|
|---|---|---|
|**Company name**|Анкета Клиента|Название компании клиента.|
|**Industry**|Анкета Клиента|Индустрия.|
|**UBO Resedential**|Анкета Клиента|Страна резиденства UBO.|
|**Country of incorporation**|Анкета Клиента|Страна регистрации компании.|
|**Monthly turnover**|Анкета Клиента|Месячный оборот.|
|**Status**|Статус Лида|Текущий статус: "New", "Approved", "Declined".|
|**Date**|Система|Дата создания лида.|

- **Интерактивность:** Каждая строка таблицы является кликабельной и ведет на детальную страницу лида.
    

**4. Экран "Client details" (Детальная информация о лиде):**

- **Назначение:** Предоставить менеджеру достаточно информации для принятия первичного решения по заявке.
    
- **Отображаемые данные:** Ключевые поля из анкеты клиента (название компании, индустрия, оборот, юрисдикции и т.д.). **Важно:** на этом этапе конфиденциальные документы могут быть еще не доступны для скачивания до явного одобрения.
    
- **Логика кнопок:**
    
    - **"Approve":**
        
        - **Действие:** Меняет статус лида на **"Approved"**.
            
        - **Системное событие:** Активирует чат между данным менеджером и клиентом (Модуль 4). Открывает доступ ко всем загруженным документам клиента. Отправляет уведомление клиенту.
            
    - **"Reject":**
        
        - **Действие:** Меняет статус лида на **"Declined"**.
            
        - **Опционально:** Может открываться модальное окно для указания причины отказа.
            
        - **Системное событие:** Отправляет уведомление клиенту о том, что его заявка отклонена.
            
    - **"Cancel":**
        
        - **Действие:** Возвращает менеджера к списку лидов без сохранения изменений.
            

#### **А.6 Детализация Модуля 4: Коммуникация и отслеживание статуса**

Этот раздел детализирует требования к экранам "Chats With Banks" и "Accounts Requests Dashboard" (на основе макетов `Chats.png` и `Opened Accounts - ACCOUNTS.png`).

**1. Экран "Chats With Banks" (Чат):**

- **Назначение:** Обеспечить прямое и безопасное общение между Клиентом и Менеджером Банка после одобрения заявки. Этот интерфейс идентичен для обеих ролей.
    
- **Общая логика:**
    
    - Доступ к чату с конкретным банком/клиентом открывается только после того, как лид переведен в статус **"Approved"**.
        
    - Система должна поддерживать множество одновременных диалогов.
        
- **Спецификация элементов:**
    
    - **Список диалогов ("Conversations"):**
        
        - Отображает все активные чаты пользователя.
            
        - Каждый элемент списка содержит название банка/клиента, аватар и, возможно, фрагмент последнего сообщения.
            
        - Индикатор непрочитанных сообщений (например, цифра в кружке).
            
        - Есть вкладки "Active chat" и "Archive chat".
            
        - Есть поле "Search" для поиска по диалогам.
            
    - **Окно диалога:**
        
        - Стандартный интерфейс мессенджера: история сообщений по центру, поле для ввода текста внизу.
            
        - **Поле ввода текста:** Поддерживает многострочный ввод.
            
        - **Кнопка "Прикрепить файл":** Позволяет загружать и отправлять файлы (типы и размеры как в анкете).
            
        - **Кнопка "Отправить":** Отправляет сообщение.
            
        - **Сообщения:** Должны отображать имя/аватар отправителя, текст сообщения, время отправки и статус ("доставлено", "прочитано").
            

**2. Экран "Accounts Requests Dashboard" (Статусы заявок - для Клиента):**

- **Назначение:** Предоставить Клиенту наглядную и понятную информацию о текущем состоянии всех его заявок в разные банки.
    
- **Жизненный цикл статуса заявки:**
    
    1. **Applied:** Сразу после нажатия кнопки "Apply".
        
    2. **In Review:** После того как Менеджер Банка нажал "Approve".
        
    3. **Action Required:** Если Менеджер Банка запросил дополнительные документы или информацию в чате.
        
    4. **Rejected:** Если Менеджер Банка нажал "Reject".
        
    5. **Opened / Success:** Финальный статус, который выставляется Банком или Администратором после успешного открытия счета.
        
- **Спецификация карточки заявки:**
    
    - **Bank Name (e.g., Everyfin):** Название банка.
        
    - **Opened:** Дата подачи заявки.
        
    - **Account type:** Тип счета (SWIFT).
        
    - **UBO:** Имя владельца/директора, на которого подана заявка.
        
    - **Status:** Текущий статус заявки из списка выше. Статус должен быть выделен цветом (например, зелёный для "Opened", красный для "Rejected", желтый для "In Review").
        

#### **А.7 Детализация Модуля 5: Панель Администратора**

Этот раздел детализирует функционал, доступный только роли "Администратор".

**1. Управление заявками от Партнеров ("Partners leads"):**

- **Назначение:** Модерация новых банков, желающих присоединиться к платформе.
    
- **Спецификация таблицы (на основе `Users bank's manadger5.png`):**
    
    - Колонки: Чекбокс, Company name, Full name, Phone, Role, Email, Registration Date.
        
    - Интерактивность: Каждая строка кликабельна и открывает модальное окно "Partners leads details".
        
- **Модальное окно "Partners leads details" (`New Manager6.png`):**
    
    - Отображает всю информацию о заявителе.
        
    - **Кнопка "Approve" (галочка):**
        
        - **Действие:** Меняет статус заявки на "Verified".
            
        - **Системное событие:** Создает новую запись в справочнике "Partner companies". Создает учетную запись для менеджера в разделе "Bank's Users" и отправляет ему email-приглашение для установки пароля.
            
    - **Кнопка "Reject" (крестик):**
        
        - **Действие:** Меняет статус заявки на "Rejected".
            
        - **Системное событие:** Отправляет заявителю email-уведомление об отказе.
            

**2. Управление компаниями-Партнерами ("Partner companies"):**

- **Назначение:** CRUD-управление (Create, Read, Update, Delete) базой данных банков, их тарифами и критериями.
    
- **Интерфейс:** Полноценная админ-версия экрана "Company" (см. раздел A.3), где Администратор может редактировать все поля для любого банка. Это основной инструмент для настройки данных, влияющих на алгоритм подбора.
    

**3. Управление Клиентами ("Clients"):**

- **Назначение:** Просмотр и управление всеми клиентами платформы.
    
- **Спецификация таблицы (`Users clients.png`):**
    
    - Реализованы фильтры по всем основным полям (Full Name, Email, Company name и т.д.).
        
    - **Иконка "Просмотр/Редактировать":** Открывает модальное окно "Client's Info" (`Profile Clients.png`, `Profile Clients2.png`), где администратор может просмотреть и отредактировать все данные анкеты клиента и увидеть список загруженных документов.
        
    - **Иконка "Удалить":** Позволяет деактивировать (мягкое удаление) профиль клиента.
        

**4. Управление Пользователями Банков ("Bank's Users"):**

- **Назначение:** Управление учетными записями менеджеров банков.
    
- **Интерфейс (`Users bank's manadger.png`):**
    
    - **Кнопка "Add manager":** Открывает модальное окно "Manager Registration" (`Users bank's manadger2.png`), где администратор может вручную создать нового пользователя и привязать его к существующей компании-партнеру.
        
    - **Действия в строке:** Редактирование и деактивация учетной записи менеджера.
        

**5. Управление справочниками:**

- **Назначение:** Управление списками, которые используются в выпадающих меню по всей системе.
    
- **Требования:** Администратор должен иметь интерфейс для CRUD-управления следующими справочниками:
    
    - **Страны**
        
    - **Индустрии**
        
    - **Типы лицензий**
        
    - **Услуги**
        

Этот раздел завершает детализацию функционала. Мы прошли полный цикл от первого визита пользователя до инструментов управления для администратора, максимально исключив двусмысленность и "пространство для творчества". Теперь этот документ является исчерпывающим руководством для команды разработки.